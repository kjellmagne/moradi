.admin-layout {
  display: grid;
  gap: 1rem;
  grid-template-columns: minmax(0, 1fr);
  align-content: start;
}

.overview-layout {
  grid-template-columns: minmax(0, 1fr);
  align-content: start;
}

.overview-top {
  display: grid;
  gap: 1rem;
  grid-template-columns: minmax(0, 1.25fr) minmax(0, 0.85fr);
  align-items: start;
}

.overview-main,
.overview-side {
  align-content: start;
}

.overview-roster {
  width: 100%;
}

.overview-glance {
  padding: 0.75rem 0.85rem;
}

.overview-glance .section-title {
  margin-bottom: 0.55rem;
}

.overview-glance .section-title h2 {
  font-size: 0.95rem;
}

.overview-glance .section-title p {
  margin-top: 0.08rem;
  font-size: 0.74rem;
}

.overview-summary-grid {
  gap: 0.5rem;
}

.overview-summary-grid.grid.three {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.overview-summary-grid .kpi {
  padding: 0.48rem 0.58rem;
  border-radius: 12px;
}

.overview-summary-grid .kpi p {
  font-size: 0.64rem;
  letter-spacing: 0.05em;
}

.overview-summary-grid .kpi .value {
  margin-top: 0.12rem;
  font-size: 1.2rem;
  line-height: 1.1;
}

.topbar-actions-compact {
  gap: 0.35rem;
}

.device-link {
  width: 2rem;
  height: 2rem;
  border-radius: 10px;
  border: 1px solid #cfdae3;
  color: #5d7484;
  background: rgba(255, 255, 255, 0.74);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

.device-link:hover {
  background: #ffffff;
  border-color: #8fb8cf;
  color: #1c6f98;
}

.device-link svg {
  width: 0.92rem;
  height: 0.92rem;
}

.device-link {
  cursor: pointer;
}

.sidebar-tools {
  margin-top: auto;
  display: flex;
  justify-content: flex-start;
  padding: 0.65rem 0.9rem 0.2rem;
}

.sidebar-settings-trigger {
  appearance: none;
  border: none;
  background: none;
  padding: 0;
  cursor: pointer;
  color: #1d5f86;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.sidebar-settings-glyph {
  width: 3rem;
  height: 3rem;
  border-radius: 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #f4fbff;
  background: #1a5a7e;
  border: 1px solid #ffffff;
  transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

.sidebar-settings-glyph svg {
  width: 1.45rem;
  height: 1.45rem;
}

.sidebar-settings-trigger:hover .sidebar-settings-glyph,
.sidebar-settings-trigger:focus-visible .sidebar-settings-glyph {
  background: #124869;
  border-color: #ffffff;
  color: #ffffff;
}

.sidebar-settings-trigger:focus-visible {
  outline: none;
}

.icon-action-btn {
  width: 2rem;
  height: 2rem;
  min-width: 2rem;
  min-height: 2rem;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  flex: 0 0 2rem;
}

.icon-action-btn svg {
  width: 0.9rem;
  height: 0.9rem;
  display: block;
  pointer-events: none;
}

.icon-action-btn:hover,
.icon-action-btn:focus-visible {
  transform: none;
}

.icon-actions {
  flex-wrap: nowrap;
  align-items: center;
}

.icon-actions .badge {
  align-self: center;
}

.chore-action-row {
  justify-content: flex-start;
}

.chore-state-badge {
  min-width: 4.85rem;
  justify-content: center;
}

.board-date-controls {
  display: flex;
  align-items: end;
  flex-wrap: wrap;
  gap: 0.48rem;
}

.board-date-controls label {
  flex: 0 0 auto;
}

.board-panel {
  display: grid;
  gap: 0.75rem;
}

.board-date-meta {
  display: grid;
  gap: 0.06rem;
  padding: 0.12rem 0.18rem;
  min-width: 175px;
}

.board-date-meta strong {
  font-family: 'Sora', sans-serif;
  font-size: 0.83rem;
  color: #184a68;
  line-height: 1.15;
}

.board-date-meta span {
  font-size: 0.74rem;
  color: #5d7889;
  line-height: 1.1;
}

.board-summary-grid {
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 0.52rem;
}

.board-summary-grid .board-kpi {
  padding: 0.56rem 0.62rem;
  border-radius: 12px;
}

.board-summary-grid .board-kpi p {
  font-size: 0.62rem;
  letter-spacing: 0.055em;
}

.board-summary-grid .board-kpi .value {
  margin-top: 0.12rem;
  font-size: 1.14rem;
  line-height: 1.1;
}

.board-summary-grid .board-kpi.ok {
  border-color: #c5e2cf;
  background: linear-gradient(155deg, #effaf1 0%, #e7f7ec 100%);
}

.board-summary-grid .board-kpi.warn {
  border-color: #e7ccb8;
  background: linear-gradient(155deg, #fff5ee 0%, #fff0e7 100%);
}

.board-columns {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
  gap: 0.72rem;
  align-items: start;
}

.board-column {
  border: 1px solid #d1e0eb;
  border-radius: 14px;
  background: linear-gradient(180deg, #f9fcff 0%, #f4f9fd 100%);
  padding: 0.62rem;
  display: grid;
  gap: 0.55rem;
  align-content: start;
  min-height: 320px;
}

.board-column-head {
  display: grid;
  gap: 0.12rem;
}

.board-column-head h3 {
  font-size: 0.9rem;
  color: #20495f;
}

.board-column-head p {
  font-size: 0.75rem;
  color: #5d7889;
}

.board-task-list {
  display: grid;
  gap: 0.48rem;
  align-content: start;
}

.board-task-card {
  border: 1px solid #ccdbe7;
  border-radius: 12px;
  background: #ffffff;
  padding: 0.52rem 0.56rem;
  display: grid;
  gap: 0.33rem;
}

.board-task-card.done {
  border-color: #c2dfce;
  background: #eff9f2;
}

.board-task-card.overdue {
  border-color: #e8c8b6;
  background: #fff3ea;
}

.board-task-card.unassigned {
  border-style: dashed;
}

.board-task-head {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 0.4rem;
}

.board-task-head strong {
  font-size: 0.86rem;
  line-height: 1.2;
}

.board-task-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.28rem;
  justify-content: flex-end;
}

.board-task-meta {
  margin: 0;
  color: #5c7788;
  font-size: 0.74rem;
  line-height: 1.2;
}

.board-task-note {
  margin: 0;
  font-size: 0.75rem;
  color: #5f7889;
  line-height: 1.25;
}

.board-task-actions {
  display: flex;
  justify-content: flex-end;
}

.compact-table select {
  min-width: 96px;
  width: 100%;
}

.compact-table th,
.compact-table td {
  font-size: 0.8rem;
}

#week-owner-table td {
  white-space: nowrap;
}

.week-plan-hint {
  margin: 0 0 0.66rem;
}

.week-plan-nav {
  display: grid;
  grid-template-columns: 2rem minmax(180px, auto) 2rem minmax(170px, 220px);
  gap: 0.48rem;
  align-items: end;
  margin-bottom: 0.66rem;
}

.week-plan-nav-label {
  border: 1px solid #cbd9e4;
  border-radius: 12px;
  background: #f8fcff;
  min-height: 2rem;
  padding: 0.34rem 0.6rem;
  display: grid;
  align-content: center;
  gap: 0.06rem;
}

.week-plan-nav-label strong {
  font-family: 'Sora', sans-serif;
  font-size: 0.8rem;
  line-height: 1.1;
  color: #174d6b;
}

.week-plan-nav-label span {
  font-size: 0.72rem;
  color: #5d7889;
  line-height: 1.1;
}

.week-plan-nav-picker {
  margin: 0;
}

.week-plan-nav-picker input {
  min-height: 2rem;
}

.admin-week-scroll {
  overflow-x: auto;
  padding-bottom: 0.25rem;
}

.admin-week-plan-grid {
  display: grid;
  grid-template-columns: repeat(5, minmax(220px, 1fr));
  gap: 0.62rem;
  min-width: 1120px;
}

.admin-week-day {
  border: 1px solid #cedce6;
  border-radius: 14px;
  background: #f8fbfe;
  padding: 0.56rem;
  min-height: 320px;
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
  gap: 0.48rem;
}

.admin-week-day.is-today {
  border-color: #8fc6e2;
  background: #edf8ff;
}

.admin-week-day-head {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 0.4rem;
  border-bottom: 1px solid #dde8f0;
  padding-bottom: 0.34rem;
}

.admin-week-day-head strong {
  font-family: 'Sora', sans-serif;
  font-size: 0.84rem;
}

.admin-week-day-head span {
  font-size: 0.76rem;
  color: #607989;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 700;
}

.admin-instance-list {
  display: grid;
  gap: 0.42rem;
  align-content: start;
}

.admin-instance-empty {
  margin: 0;
  font-size: 0.79rem;
  color: #5f7888;
}

.admin-instance-card {
  border: 1px solid #cbd8e3;
  border-radius: 12px;
  background: #ffffff;
  padding: 0.44rem;
  display: grid;
  gap: 0.42rem;
}

.admin-instance-card.done {
  border-color: #c2e1cd;
  background: #eff9f2;
}

.admin-instance-card.overdue {
  border-color: #efd3c4;
  background: #fff4ec;
}

.admin-instance-card.instance-disabled {
  border-color: #d6dde5;
  background: #f4f7fa;
  opacity: 0.85;
}

.admin-instance-head {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0.4rem;
}

.admin-instance-head strong {
  display: block;
  font-size: 0.86rem;
  line-height: 1.2;
}

.admin-instance-note {
  margin: 0;
  font-size: 0.74rem;
  color: #607989;
}

.admin-instance-meta {
  margin: 0;
  font-size: 0.72rem;
  color: #5a7485;
}

.admin-instance-actions {
  display: flex;
  gap: 0.35rem;
  align-items: center;
}

.admin-instance-actions .icon-action-btn {
  width: 1.82rem;
  height: 1.82rem;
  min-width: 1.82rem;
  min-height: 1.82rem;
  flex: 0 0 1.82rem;
}

.admin-instance-actions .icon-action-btn svg {
  width: 0.82rem;
  height: 0.82rem;
}

.admin-section-hidden {
  display: none !important;
}

.stats-panel {
  display: grid;
  gap: 0.9rem;
}

.stats-controls {
  margin-top: -0.1rem;
}

.stats-highlight-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 0.62rem;
}

.stats-highlight-card {
  border: 1px solid #cfe0eb;
  border-radius: 14px;
  background: linear-gradient(150deg, #ffffff 0%, #f4f9fd 100%);
  padding: 0.62rem 0.68rem;
  display: grid;
  gap: 0.2rem;
}

.stats-highlight-card h4 {
  font-size: 0.76rem;
  color: #537183;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.stats-highlight-card strong {
  font-size: 0.95rem;
  color: #173d53;
}

.stats-highlight-card p {
  margin: 0;
  font-size: 0.78rem;
  color: #5b7586;
}

.stats-highlight-list {
  margin: 0;
  padding-left: 1rem;
  display: grid;
  gap: 0.22rem;
  color: #4d687a;
  font-size: 0.79rem;
}

.stats-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.3rem;
}

.stats-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 0.18rem 0.5rem;
  font-size: 0.69rem;
  font-weight: 700;
  letter-spacing: 0.01em;
  border: 1px solid #c9d8e4;
  background: #f4f8fc;
  color: #456072;
}

.stats-badge.mvp {
  border-color: #dfc999;
  background: #fff7e4;
  color: #8a5a00;
}

.stats-badge.streak {
  border-color: #97c8ff;
  background: #ecf6ff;
  color: #1f5f90;
}

.stats-badge.reliable {
  border-color: #9ad2b2;
  background: #ecf9f0;
  color: #1f6d3a;
}

.stats-badge.helper {
  border-color: #b3b9eb;
  background: #eff1ff;
  color: #404f9a;
}

.stats-badge.needs_attention {
  border-color: #e7b8a8;
  background: #fff1eb;
  color: #9b4123;
}

.stats-rank-top td:first-child {
  color: #886200;
  font-weight: 800;
}

.stats-rank-watch td:first-child {
  color: #9a4020;
  font-weight: 800;
}

.stats-weekly-block {
  display: grid;
  gap: 0.52rem;
}

.stats-weekly-block h3 {
  font-size: 0.9rem;
  color: #2f4d60;
}

.stats-weekly-list {
  display: grid;
  gap: 0.45rem;
}

.stats-week-item {
  border: 1px solid #d1deea;
  border-radius: 12px;
  background: #f9fcff;
  padding: 0.5rem 0.62rem;
  display: grid;
  gap: 0.18rem;
}

.stats-week-item strong {
  font-size: 0.82rem;
}

.stats-week-item p {
  margin: 0;
  font-size: 0.76rem;
  color: #587384;
}

.dialog-panel {
  border: 1px solid #c7d8e4;
  border-radius: 18px;
  width: min(680px, calc(100vw - 2rem));
  padding: 0;
  box-shadow: 0 26px 46px rgba(7, 28, 41, 0.28);
}

.dialog-panel::backdrop {
  background: rgba(11, 24, 34, 0.6);
  backdrop-filter: blur(3px);
}

.dialog-body {
  padding: 1rem;
}

.dialog-body h3 {
  margin-bottom: 0.85rem;
  font-size: 1.03rem;
}

.member-dialog-panel {
  width: min(620px, calc(100vw - 2rem));
}

.member-form-layout {
  gap: 0.9rem;
}

.member-main-row {
  grid-template-columns: minmax(0, 1.35fr) minmax(0, 1fr);
}

.member-contact-row {
  grid-template-columns: minmax(0, 1fr);
}

.chore-dialog-panel {
  width: min(760px, calc(100vw - 2rem));
}

.chore-form-layout {
  gap: 0.95rem;
}

.dialog-heading {
  display: grid;
  gap: 0.2rem;
}

.dialog-heading h3 {
  margin-bottom: 0;
}

.dialog-heading .notice {
  margin: 0;
}

.dialog-section {
  display: grid;
  gap: 0.62rem;
  padding: 0.72rem 0.78rem;
  border: 1px solid #d5e2ec;
  border-radius: 14px;
  background: linear-gradient(180deg, #fbfdff 0%, #f4f8fc 100%);
}

.dialog-section h4 {
  font-size: 0.82rem;
  color: #3f5f72;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.chore-main-row {
  grid-template-columns: minmax(0, 1.65fr) minmax(0, 1fr);
}

.repeat-mode-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.repeat-mode-option {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  border: 1px solid #c9d8e3;
  border-radius: 999px;
  background: #ffffff;
  padding: 0.28rem 0.62rem;
  font-size: 0.78rem;
  color: #4e6778;
}

.repeat-mode-option input {
  width: 14px;
  height: 14px;
  margin: 0;
}

.repeat-mode-option:has(input:checked) {
  border-color: #89bad4;
  background: #eaf6fd;
  color: #15577b;
}

.chore-schedule-block {
  border: 1px solid #d8e4ed;
  border-radius: 12px;
  background: #ffffff;
  padding: 0.5rem 0.58rem;
}

.chore-schedule-block.is-muted {
  opacity: 0.5;
  background: #f3f7fb;
}

.inline-value {
  display: inline-flex;
  align-items: center;
  gap: 0.46rem;
}

.inline-value span {
  color: #607989;
  font-size: 0.82rem;
  font-weight: 600;
}

.inline-value input {
  width: 88px;
}

.weekday-select-row.chore-schedule-block .notice {
  margin-bottom: 0.08rem;
}

.chore-deadline-fields {
  display: grid;
  gap: 0.62rem;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
}

.chore-deadline-fields.is-muted {
  opacity: 0.56;
}

.chore-deadline-fields .toggle-row {
  min-height: 44px;
}

.chore-status-section .toggle-row {
  max-width: 340px;
}

.toggle-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.7rem;
  border: 1px solid #c9d8e3;
  border-radius: 12px;
  background: #ffffff;
  color: #365365;
  font-size: 0.79rem;
  font-weight: 700;
  padding: 0.58rem 0.66rem;
}

.toggle-row input {
  width: 16px;
  height: 16px;
  margin: 0;
}

.week-owner-dialog-panel {
  width: min(660px, calc(100vw - 2rem));
}

.instance-dialog-panel {
  width: min(760px, calc(100vw - 2rem));
}

.settings-dialog-panel {
  width: min(760px, calc(100vw - 2rem));
}

.week-owner-form-layout {
  gap: 0.9rem;
}

.instance-form-layout {
  gap: 0.92rem;
}

.settings-form-layout {
  gap: 0.92rem;
}

.week-owner-main-row {
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
}

.instance-main-row,
.instance-deadline-row {
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
}

.settings-main-row {
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
}

.week-owner-preview {
  border: 1px dashed #bad0df;
  border-radius: 12px;
  background: #ffffff;
  padding: 0.56rem 0.64rem;
  display: grid;
  gap: 0.14rem;
}

.week-owner-preview strong {
  font-size: 0.9rem;
  color: #1e5b79;
}

.week-owner-preview .notice {
  margin: 0;
}

.instance-preview {
  border: 1px dashed #b8cfde;
  border-radius: 12px;
  background: #ffffff;
  padding: 0.54rem 0.62rem;
  display: grid;
  gap: 0.12rem;
}

.instance-preview strong {
  font-size: 0.9rem;
  color: #1f5d7b;
}

.instance-deadline-row .toggle-row {
  min-height: 44px;
}

.instance-deadline-row.is-muted {
  opacity: 0.56;
}

#instance-edit-fields.is-muted {
  opacity: 0.52;
}

.dialog-actions {
  justify-content: flex-end;
  margin-top: 0.25rem;
}

.weekday-select-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
  align-items: center;
}

.weekday-select-row .notice {
  width: 100%;
  margin-bottom: 0.05rem;
}

.weekday-option {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  border: 1px solid #cad8e3;
  border-radius: 999px;
  padding: 0.24rem 0.56rem;
  background: #f7fbff;
  font-size: 0.78rem;
}

.weekday-option input {
  width: 14px;
  height: 14px;
  margin: 0;
}

.table-wrap table {
  min-width: 580px;
}

.table-wrap.compact table {
  min-width: 780px;
}

@media (max-width: 1280px) {
  .admin-layout {
    grid-template-columns: 1fr;
  }

  .overview-top {
    grid-template-columns: 1fr;
  }

  .overview-summary-grid.grid.three {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }

  .stats-highlight-grid {
    grid-template-columns: 1fr;
  }

  .board-summary-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .board-columns {
    grid-template-columns: 1fr;
  }

  .admin-week-plan-grid {
    min-width: 980px;
  }
}

@media (max-width: 760px) {
  .week-plan-nav {
    grid-template-columns: 2rem minmax(0, 1fr) 2rem;
  }

  .week-plan-nav-picker {
    grid-column: 1 / -1;
  }

  .member-main-row,
  .chore-main-row,
  .week-owner-main-row,
  .instance-main-row,
  .instance-deadline-row,
  .settings-main-row,
  .chore-deadline-fields {
    grid-template-columns: 1fr;
  }

  .board-summary-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .board-date-meta {
    width: 100%;
    padding-left: 0;
  }
}
